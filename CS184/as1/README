Alan Yao and Rohan Chitnis
Runs on Ubuntu 12.04 with freeglut. Filewrite requires libpng to be installed.
Alan Yao is submitting, on Ubuntu 12.04. Code is tested on hive machines.

Run with make && ./as1 [options]

EXTRA CREDIT options implemented:
- FULL RAYTRACER!!!
- Anisotropic BRDF
- Toon shading
- Write to file
- Triangle shapes
- Multiple spheres and triangles
- Spheres that shadow and reflect off each other, through raytracing

The default options are:
Sphere options:
-ka r g b. 
-kd r g b. 
-ks r g b. These are the ambient, diffuse, and specular color coefficients of the sphere material, respectively. The parameters r g b are numbers between 0 and 1 inclusive. 
-sp v. This is the power coefficient on the specular term. It is a number between 0 and max_float. 

Light options:
-pl x y z r g b. This adds a point light to the scene. The x y z values are the location of the light. The r g b values are its color. 
-dl x y z r g b. This adds a directional light to the scene. The x y z values are the direction that the light points in. The r g b values are its color. 

ADDITIONAL OPTIONS are: 
-t. Enable toon shading. This partially discretizes colors by ambient, diffuse, and specular, and reduces the specular component, along with a background and silhouette. We credit Harrison Wang, who took the course last semester, for contributing ideas on this.

-w. filename.png Writes output to filename.png. Can be a path, i.e. -w folder/img.png

-newsphere [-a] x y r. Generates a new sphere centered at (x, y, 0), where x and y are absolute coordinates in [0, windowsize]. r specifies the radius of the sphere in pixels. All sphere arguments given after specifying newsphere apply to that sphere, until the next newsphere or newtriangle. NOTE: if this is not the first command given, a default sphere at the middle of the window of radius (windowsize/3) with no color coefficients is created.

Including the -a command uses the anisotropic phong BRDF model. If the -a flag is used, the sphere should be specified with the following commands:
-rs r g b. sets the specular reflectance at normal incidence
-rd r g b. sets the diffuse reflectance under the specular coating
-nu v. sets a phong-like exponent to control the shape of the specular lobe
-nv v. sets a phong-like exponent to control the shape of the specular lobe
Does not support toon shading.
We credit the paper at http://www.cs.utah.edu/~michael/brdfs/jgtbrdf.pdf for its equations and explanations regarding anisotropic shading.

-z z Sets the z coordinate of the current sphere to z. Not recommended unless running -r.

-r Runs a full raytracer to generate shadowing and reflective effects. Baseline scene is a room with the left wall blue and the right wall yellow (taken from sample raytracer tests). Sphere coordinates are now relative to the center; (0, 0, 0) is the center of the view. Radius/distance of 1 is the distance from the camera to the center. By default there are two lights, a point light at (0, .44, -1.5) and a weak directional light with direction (0, 1, -1).

-b Removes the baseline scene for raytracer.

-newtriangle x1 y1 z1 x2 y2 z2 x3 y3 z3. Generates a 2D triangle with corners (x1, y1, z1), (x2, y2, z2), (x3, y3, z3). All following color arguments until another newsphere or newtriangle command apply to this triangle. If -newtriangle or -newsphere is no the first command, the default sphere is created. 

Example commands:
pokeball.png
./as1 -ka .03 .02 .02 -kd 1.0 1.0 1.0 -ks .65 .65 .65 -pl 0.5 -6.0 0.5 .7 .7 .7 -pl -0.5 6.0 -0.5 .7 0.0 0.0 -pl 0.0 0.0 1.04 .5 .5 .5 -sp 20.0 -w results/pokeball.png

max_lights.png
./as1 -ka 0 0 0 -kd 0.55231 0.232 0.5612 -sp 30 -ks 0.262344 0.623421 0.1233 -dl -0.5 0.1234 -0.42 0.235 0.263 0.5 -pl 1.512 1.123 1.132 0.125 0.643 0.6423 -dl 0.125 0.125 0.125 0.125 0.125 0.125 -dl 0.6423 0.346 0.634 0.124 0.623 0.623 -dl 0.12312 0.512 0.1231 0.1231 0.123 0.5612 -dl 0.125 0.1245 0.321 1 1 1 -pl 1.512 1.3123 1.312 0.123 0.6236 0.623 -pl 1.1236 1.1236 1.6234 0.23460 0.3462 0.2346 -pl 1.2346 1.6342 1.423 0.123 0.632 0.6432 -pl 1.1236 1.6423 1.6423 0.123 0.632 0.6432 -w
results/max_lights.png

double_lights.png
./as1 -ka 0 0 0 -kd 0.521 0.72 0.2 -sp 30 -ks 0.214 0.621 0.623 -dl -0.5 0.1234 -0.42 0.235 0.263 0.233 -pl 1.512 1.123 1.132 0.125 0.643 0.6423

all.png
./as1 -pl 200 200 200 0.6 0.6 0.6 -dl 0 1 -1 0 0.4 0.4 -kd 1 1 0 -ka 0.1 0.1 0 -ks 0.8 0.8 0.8 -sp 16

diffuse_only.png
"-pl 200 200 200 0.6 0.6 0.6 -kd 1 1 0"

specular_only.png
-pl 200 200 200 0.6 0.6 0.6 -ks 0.8 0.8 0.8 -sp 16

specular_directional.png
./as1 -dl 0 -1 -1 0.6 0.6 0.6 -ks .9 .3 .9  -sp 10 -ka .05 .05 .05 -w results/specular_directional.png

multiple_sphere.png
./as1 -newsphere 100 100 60 -ka .1 .1 .1 -kd .3 .5 .7 -ks .7 .7 .7 -sp 10 -newsphere 300 100 70 -ka .05 .05 .05 -kd .5 .2 .7 -ks .3 .3 .3 -sp 4 -newsphere 300 300 50 -kd .1 .1 .8 -ks .8 .8 .8 -sp 40 -pl 0 0 1 2 2 2 -w results/multiple_sphere.png -dl 0 1 -1 .3 .6 .8

with_triangle.png
./as1 -newsphere 100 100 60 -ka .1 .1 .1 -kd .3 .5 .7 -ks .7 .7 .7 -sp 10 -newsphere 300 100 70 -ka .05 .05 .05 -kd .5 .2 .7 -ks .3 .3 .3 -sp 4 -newsphere 300 300 50 -kd .1 .1 .8 -ks .8 .8 .8 -sp 40 -pl 0 0 1 2 2 2 -dl 0 1 -1 .3 .6 .8 -newtriangle 30 250 0 180 280 0 100 350 0 -kd .9 .3 .3 -ks .9 0 0 -sp 10 -w results/with_triangle.png

toon_pokeball.png
./as1 -ka .03 .02 .02 -kd 1.0 1.0 1.0 -ks .65 .65 .65 -pl 0.5 -6.0 0.5 .7 .7 .7 -pl -0.5 6.0 -0.5 .7 0.0 0.0 -pl 0.0 0.1 1.04 .5 .5 .5 -sp 20.0 -t -w results/toon_pokeball.png

basic_toon.png
./as1 -pl 200 200 200 0.6 0.6 0.6 -dl 0 1 -1 0 0.4 0.4 -kd 1 1 0 -ka 0.1 0.1 0 -ks 0.8 0.8 0.8 -sp 5 -t -pl -2 1 0 .3 .3 .3 -w results/basic_toon.png

anisotropic_bdrf_1.png
./as1 -newsphere -a 200 200 130 -rs .3 .3 .3 -rd .6 .6 .6 -nu 10 -nv 1000 -pl 1 1 2 1 1 1 -dl 0 0 -1 .4 .4 .4 -dl -1 1 -1 .3 .3 .3 -w results/anisotropic_bdrf_1.png

anisotropic_bdrf_2.png
./as1 -newsphere -a 200 200 130 -rs .4 .7 .9 -rd .7 .7 .5 -nu 10 -nv 10 -pl 0 1 2 1 1 1 -ka .03 .03 .02 -w results/anisotropic_bdrf_2.png

anisotropic_bdrf_3.png
./as1 -newsphere -a 200 200 130 -rs .7 .7 .8 -rd .5 .5 .5 -nu 100 -nv 1 -pl 1 1 2 1 1 1 -pl 1 -1 2 1 1 1 -pl -3 0 1.2 1 1 1 -pl -.5 3 2 1 1 1 -w results/anisotropic_bdrf_3.png 

shadowtracer.png
./as1 -newsphere 0 -.3 .2 -z -1.5 -kd .7 .5 .3 -ks .2 .2 .2 -sp 15 -newsphere 0 .1 .1 -z -1.5 -kd .2 .3 .8 -ks .2 .2 .2 -newsphere -.4 -.7 .1 -z -1.2 -ka .7 .5 .2 -ks .2 .2 .2 -r -w results/shadowtracer.png

shadowtracer_2.png
./as1 -newsphere 0 0 .2 -kd .2 .2 .8 -ks 1 1 1 -sp 70 -pl 0 0 2 .6 .6 .6 -newsphere .4 0 .15 -kd .6 .6 .2 -ks 1 1 1 -sp 30 -b -r -newsphere -.4 0 .15 -kd .6 .2 .2 -ks 1 1 1 -sp 30 -pl .2 .7 .1 .3 .3 .3 -pl .8 .1 .1 .9 .9 .9 -newsphere .2 .3 .12 -z -.2 -kd .3 .6 .7 -ks 1 1 1 -sp 50 -newsphere -.2 .3 .12 -z -.2 -kd .7 .6 .3 -ks 1 1 1 -sp 30 -w results/shadowtracer_2.png

shadowtracer_3.png
./as1 -newsphere 0 0 .8 -kd .1 .4 .8 -ks 1 1 1 -sp 50 -newsphere 0 0 .8 -z 1.5 -kd .7 .1 .7 -ks 1 1 1 -sp 50 -pl 0 0 1 1 1 1 -r -w results/shadowtracer_3.png
