---
layout: page
title: CS194 | Frequency-Domain
---
<html>
	<head>
    <link rel="stylesheet" type="text/css" href="style.css">
		<title>CS194 : Project 3</title>
	</head>
	<body>
  <h1> Project 3 : Fun with Frequencies!
</h1>
  <h3> Alan Yao </h3>
  <p> 
  <b> Part 0 : Warmup </b><br>
  I implemented the unsharp filter as follows:<br>
  Apply gaussian blur to the original image with some given sigma; subtract the blurred image from the original to get the high-pass filtered image; then add it back to the original image, multiplied by some alpha. I picked parameter values sigma = 5 and alpha = 0.4 to generate this image, from project 1, that has been sharpened. Notice how many of the edges are stronger.<br>
  <img src="img/train_sharp_1.4.jpg"><br>
  Another intresting effect I observed is when you add the blurred image to the original, with some alpha, we are basically emphasizing the low frequencies; this tends to create an instagram-filter like effect:<br>
  <img src="img/train_sharp_1.2_reverse.jpg"><br><br>
  <b> Part 1 : Hybrid Images </b><br>
  The hybrid images were generated by passing the first image through a low pass filter, and the second through a high pass filter, then combining the two with a factor of 0.8; that is, result = 0.8*low + 0.8*high.<br>
  Additionally, it seems optimal to use color in the high-pass filtered image; this is because, empirically, my color perception tends to decrease with distance along with my perception of high frequencies.<br>
  However, the results tend not to be particularily amazing; at far distances, the high frequency parts can still be seen and the low frequencies are fairly noticable at close distances, although the examples in the paper have the same problem. This is mostly an issue of parameter tuning; finding the right frequency cutoffs seems to be a image-specific kind of problem. Here is my favorite result:<br>
  <img src="img/city_lake.jpg"><br>
  and here is the laplacian/gaussian stack for it:<br>
  <img src="img/stack_citylake.jpg"><br>
  Note how, as we expect, at the end of the gaussian stack is just the blurred lake, and at the start of the laplacian stack is just the edges of the city. Here is the fourier transform:<br>
  <img src="img/fourier.jpg"><br>
  The low pass filter worked well (as expected) but also removed some low frequencies; thus when we subtracted the blurred image from the original we still have a some low frequency aspects in the image, for the high pass filter. For the most part though, behavior is as expected, and the end result is a mix of the filtered images.<br><br>
  Here are some other images that didn't turn out as well:<br>
  <img src="img/dog.jpg"><br>
  From far away, it's supposed to be a dog with some rocks in the background; from close up it's my friend looking at the ocean. But the two don't blend together very naturally. Hybrid images really only seem to work with things that are already quite alike in shape.<br>
  <img src="img/likashing.jpg"><br>
  From close up, it's Berkeley's Li Ka Shing; from far away it's Stanford's Li Ka Shing building. While it does work, the two were already too similar; the only real difference is Stanford's has some windows (the black shadow) and a roof off to the right. Also, to get the two to align, I had to do a lot of cropping and resizing, so the picture ended up really small.<br><br>
  <b> Part 2 : Gaussian and Laplacian Stacks </b><br>
  Here's the gaussian and laplacian stack of the lincoln painting:<br>
  <img src="img/stack_lincoln.jpg"><br>
  As expected, at the end of the gaussian stack we see a picture of lincoln; at the start of the laplacian stack we see a picture of the girl looking out.<br><br>
  <b> Part 3 : Multiresolution Blending </b><br>
  Here's my favorite result:<br>
  <img src="img/sky.jpg"><br>
  This comes from blending the following images with the non-trivial mask:<br>
  <img class="third" src="img/sky1.jpg">
  <img class="third" src="img/sky2.jpg">
  <img class="third" src="img/smask.jpg"><br>
  and here are the gaussian and laplacian stacks for the original and the blended image:<br>
  <img src="img/sky_stacks.jpg"><br>
  and finally, the stack of the blended images:<br>
  <img src="img/sky_blended_stack.jpg"><br>
  The stacks behave as expected; the high frequencies blend roughly with each other, and the lower frequencies are blended with a more blurred mask.<br><br>
  Here are some other results:<br>
  <img src="img/beachcloud.jpg"><br>
  Here, I used a fancy mask to combine a picture of a cloudless beach with a picture of some clouds. The mask was generated using the clouds function in photoshop (ironically), which just happens to work really well with actual clouds.<br>
  <img class="third" src="img/beach.jpg">
  <img class="third" src="img/cloud.jpg">
  <img class="third" src="img/bmask.jpg"><br>
  Mask and source pictures.<br><br>

  <img src="img/flor.jpg"><br>
  This is a more trivial result from blending together two very similar images:<br>
  <img class="third" src="img/flor1.jpg">
  <img class="third" src="img/flor2.jpg"><br>
  Obviously it would work well; there's basically no high frequencies to blend, and the low frequencies blend very well.<br><br>
  <img src="img/jason_fail.jpg"><br>
  Here I try to blend together two of my friend's expressions; however, it really doesn't work at all because the jawlines aren't aligned. If the high frequency lines aren't aligned, no amount of intelligent blending can fix it.<br><br>
  <b> Bells & Whistles </b><br>
  I used color in my part 1 and part 3 images. <br>
  I also tried <a href="http://www.cs.tau.ac.il/~turkel/imagepapers/ColorTransfer.pdf">color transfer between images</a>. Not as cool as facial transfer, but I couldn't get SIFT flow to work on my computer. Here are some example results:<br>
  <img class="third" src="img/sunset.jpg">
  <img class="third" src="img/beachcloud.jpg">
  <img class="third" src="img/sunset_beachcloud.jpg"><br>
  Here, I transfer the color space of the sunset onto the beach-cloud picture I rendered earlier.<br>
  <img class="third" src="img/sky1.jpg">
  <img class="third" src="img/city.jpg">
  <img class="third" src="img/citysky.jpg"><br>
  Here, I transfer the color space of the mountain picture onto a picture of a city, to get a similar nighttime effect.<br>
  <img height="200" width="150" src="img/monalisa.jpg">
  <img class="third" src="img/efros.jpg">
  <img class="third" src="img/efroslisa.jpg"><br>
  Here I try to transfer the color map of the mona lisa onto a picture of Professor Efros. It works decently well, but also mostly just makes it look like the picture was taken at night.<br><br>
  <b> What I learned </b><br>
  Working with stacks to do blending gives us a fair bit of power, but we're still severely limited by the quality of our source images and their prior alignment and similarity.
  </p>
  </body>
</html>
